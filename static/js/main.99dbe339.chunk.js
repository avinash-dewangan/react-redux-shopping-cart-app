(this["webpackJsonpreact-redux-shopping-cart-app"]=this["webpackJsonpreact-redux-shopping-cart-app"]||[]).push([[0],{44:function(e,t,c){},45:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var a=c(1),r=c.n(a),n=c(17),s=c.n(n),i=(c(44),c(45),c(12)),l=c(3),o=c(5),d=c(6),j=c(0);var u=Object(d.b)((function(e){return{cart:e.shop.cart}}))((function(e){var t=e.cart,c=Object(a.useState)(0),r=Object(o.a)(c,2),n=r[0],s=r[1];return Object(a.useEffect)((function(){var e=0;t.forEach((function(t){e+=t.qty})),s(e)}),[t,n]),Object(j.jsx)("div",{className:"",style:{paddingBottom:"100px"},children:Object(j.jsx)("nav",{style:{position:"fixed",width:"100%",zIndex:"10"},className:"navbar navbar-expand-lg navbar-light bg-light mb-5",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsxs)(i.b,{to:"/",className:"navbar-brand",children:[Object(j.jsx)("i",{class:"fa fa-cart-arrow-down",style:{fontSize:"50px"},"aria-hidden":"true"})," Shopping Mart"]}),Object(j.jsxs)(i.b,{to:"/cart",style:{position:"relative"},children:[Object(j.jsx)("p",{style:{position:"absolute",right:"2px",zIndex:"1",top:"-15px",background:"green",borderRadius:"50%",width:"25px",height:"25px",color:"#fff",textAlign:"center"},children:Object(j.jsx)("span",{children:n})}),Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"currentColor",className:"bi bi-cart",viewBox:"0 0 16 16",children:Object(j.jsx)("path",{d:"M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"})})]})]})})})})),b="ADD_TO_CART",O="REMOVE_FROM_CART",h="ADJUST_QTY",p="LOAD_CURRENT_ITEM",m="FETCH_PRODUCTS_SUCCESS",x="FETCH_PRODUCTS_REQUEST",g="FETCH_PRODUCTS_ERROR",f=c(34),v=c.n(f),y=function(e){return{type:b,payload:{id:e}}},N=function(){return{type:x}},C=function(){return function(e){e(N),v.a.get("http://localhost:3006/products").then((function(t){var c=t.data;e(function(e){return{type:m,payload:e}}(c))})).catch((function(t){var c=t.message;e(function(e){return{type:g,paylod:e}}(c))}))}};var S=Object(d.b)(null,(function(e){return{addToCart:function(t){return e(y(t))},loadCurrentItem:function(t){return e(function(e){return{type:p,payload:e}}(t))}}}))((function(e){var t=e.productData,c=(e.addToCart,e.loadCurrentItem);return Object(j.jsx)("div",{className:"col-md-4 col-xs-12 p-2",style:{height:"435px",textAlign:"center",float:"left"},children:Object(j.jsx)("div",{className:"card",style:{display:"table-cell",verticalAlign:"middle",height:"inherit"},children:Object(j.jsxs)(i.b,{to:"product/".concat(t.id),onClick:function(){return c(t)},children:[Object(j.jsx)("img",{style:{width:"30%",margin:"auto"},src:t.image,className:"card-img-top",alt:t.title}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:t.title}),Object(j.jsx)("p",{className:"card-text",children:t.category}),Object(j.jsxs)("p",{children:["Price : $",t.price]})]})]})})})}));var P=function(e){var t=e.products,c=e.setsearchResult,a=e.setFlag,r=e.setPageNumber,n={};t.map((function(e){n[e.category]=void 0}));var s=function(e){if(e.preventDefault(),r(0),console.log(e.target.value),"allProducts"===e.target.value)c(t),a(!1);else{var n=t.filter((function(t){return t.category===e.target.value}));c(n),a(!0)}},i=Object.keys(n).map((function(e,c){var a=t.filter((function(t){return t.category===e}));return Object(j.jsx)("li",{children:Object(j.jsxs)("button",{href:"#",onClick:s,value:e,children:[e,Object(j.jsx)("span",{className:"badge badge-pill badge-light float-right",children:a.length})]})},c)}));return Object(j.jsx)("div",{className:"card mb-3",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:"Category"}),Object(j.jsxs)("ul",{className:"list-menu",children:[Object(j.jsx)("li",{children:Object(j.jsxs)("button",{href:"#",onClick:s,value:"allProducts",children:["All Products",Object(j.jsx)("span",{className:"badge badge-pill badge-light float-right",children:t.length})]})}),i]})]})})};var w=function(e){var t=e.products,c=e.setsearchResult,r=e.setFlag,n=e.setPageNumber,s=Object(a.useState)(101),i=Object(o.a)(s,2),l=i[0],d=i[1];return Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:"Price range"}),Object(j.jsx)("input",{type:"range",className:"custom-range",min:"0",max:"1000",name:"",value:l,onChange:function(e){console.log(e.target.value),d(e.target.value);var a=t.filter((function(t){return t.price<=e.target.value}));c(a),r(!0),n(0)}}),Object(j.jsxs)("div",{children:["$",l]})]})})};var T=function(e){var t=e.products,c=e.setsearchResult,r=e.setFlag,n=e.setPageNumber,s=Object(a.useState)(""),i=Object(o.a)(s,2),l=i[0],d=i[1],u=function(e){if(d(e.target.value),""!==l){var a=t.filter((function(e){return Object.values(e).join("").toLowerCase().includes(l.toLowerCase())}));c(a)}r(!0),n(0)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search for product brand and more","aria-label":"Search",value:l,onChange:u,onPaste:u,onKeyUp:u,onKeyDown:u,onKeyPress:u})})},R=c(35),F=c.n(R);var E=function(e){var t=e.pageCount,c=e.changePage;return Object(j.jsx)("div",{className:"col-md-12",style:{float:"left"},children:Object(j.jsx)(F.a,{previousLabel:"Previous",nextLabel:"Next",pageCount:t,onPageChange:c,containerClassName:"pagination",previousLinkClassName:"previousBttn page-link",nextLinkClassName:"nextBttn page-link",disabledClassName:"disabled",activeClassName:"active",pageLinkClassName:"page-link",pageClassName:"page-item",forcePage:0})})};var k=Object(d.b)((function(e){return{products:e.shop.products}}),(function(e){return{fetchProducts:function(){return e(C())}}}))((function(e){var t=e.products,c=e.fetchProducts;Object(a.useEffect)((function(){c()}),[c]);var r=Object(a.useState)([]),n=Object(o.a)(r,2),s=n[0],i=n[1],l=Object(a.useState)(!1),d=Object(o.a)(l,2),u=d[0],b=d[1],O=Object(a.useState)(0),h=Object(o.a)(O,2),p=h[0],m=h[1],x=9*p,g=Math.ceil(u?s.length/9:t.length/9),f=u?s.slice(x,x+9).map((function(e){return Object(j.jsx)(S,{productData:e},e.id)})):t.slice(x,x+9).map((function(e){return Object(j.jsx)(S,{productData:e},e.id)}));return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"col-xs-12 col-md-3",children:[Object(j.jsx)(P,{products:t,setsearchResult:i,setFlag:b,setPageNumber:m}),Object(j.jsx)(w,{products:t,setsearchResult:i,setFlag:b,setPageNumber:m})]}),Object(j.jsxs)("div",{className:"col-xs-12 col-md-9",children:[Object(j.jsx)(T,{products:t,setsearchResult:i,setFlag:b,setPageNumber:m}),f,g<1?"":Object(j.jsx)(E,{pageCount:g,changePage:function(e){var t=e.selected;m(t)}})]})]})})}));var D=Object(d.b)(null,(function(e){return{removeFromCart:function(t){return e({type:O,payload:{id:t}})},adjustQty:function(t,c){return e(function(e,t){return{type:h,payload:{id:e,qty:t}}}(t,c))}}}))((function(e){var t=e.itemData,c=e.removeFromCart,r=e.adjustQty,n=Object(a.useState)(t.qty),s=Object(o.a)(n,2),i=s[0],l=s[1];return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{class:"row",children:[Object(j.jsxs)("div",{class:"col-12 col-md-4",children:[Object(j.jsx)("img",{style:{width:"30%",margin:"auto"},src:t.image,className:"card-img-top",alt:t.title}),Object(j.jsx)("h5",{className:"card-title",children:t.title}),Object(j.jsx)("p",{className:"card-text",children:t.category})]}),Object(j.jsxs)("div",{class:"col-3 col-md-2",children:[Object(j.jsx)("label",{htmlFor:"qty",className:"form-label",children:"Qty"}),Object(j.jsx)("input",{type:"number",min:"1",className:"form-control",id:"qty",value:i,onChange:function(e){console.log(e.target.value),l(e.target.value),r(t.id,e.target.value)}})]}),Object(j.jsx)("div",{class:"col-3 col-md-3",children:Object(j.jsxs)("p",{children:["Price : $",t.price]})}),Object(j.jsx)("div",{class:"col-2 col-md-3",children:Object(j.jsx)("button",{onClick:function(){return c(t.id)},className:"btn btn-danger",children:Object(j.jsx)("i",{class:"fa fa-trash"})})})]})})}));var I=Object(d.b)((function(e){return{cart:e.shop.cart}}))((function(e){var t=e.cart,c=Object(a.useState)(0),r=Object(o.a)(c,2),n=r[0],s=r[1],i=Object(a.useState)(0),l=Object(o.a)(i,2),d=l[0],u=l[1],b=Object(a.useState)(0),O=Object(o.a)(b,2),h=O[0],p=O[1],m=Object(a.useState)(0),x=Object(o.a)(m,2),g=x[0],f=x[1],v=Object(a.useState)(0),y=Object(o.a)(v,2),N=y[0],C=y[1],S=Object(a.useState)(0),P=Object(o.a)(S,2),w=P[0],T=P[1];Object(a.useEffect)((function(){var e,c,a=0,r=0,n=0,i=0;t.forEach((function(e){a+=Math.ceil(e.qty),r+=Math.ceil(e.qty*e.price),n+=Math.ceil(.09*r),i+=r>=500?0:40})),c=r+n+i-(e=r>=2e3?50:0),T(i),C(c),f(e),p(n),s(r),u(a)}),[t,n,d,s,u]);var R=t.map((function(e){return Object(j.jsx)(D,{itemData:e},e.id)}));return Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-8 col-12",children:R}),Object(j.jsx)("div",{className:"col-md-4 col-12 mt-5",children:Object(j.jsx)("div",{className:"card",style:{width:"18rem"},children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:"Cart Summary"}),Object(j.jsxs)("p",{children:["Total : (",d," item)"]}),Object(j.jsxs)("p",{children:["Price : $",n]}),Object(j.jsxs)("p",{children:["Tax : $",h]}),Object(j.jsxs)("p",{children:["Discount : $",g]}),Object(j.jsxs)("p",{children:["Shipping Charges : ",0===w?"FREE":w]}),Object(j.jsxs)("p",{children:["Total Amount : $",N]}),Object(j.jsx)("button",{className:"btn btn-secondary disabled",children:"Proceed to Checkout"})]})})})]})})}));var A=Object(d.b)((function(e){return{currentItem:e.shop.currentItem}}),(function(e){return{addToCart:function(t){return e(y(t))}}}))((function(e){var t=e.currentItem,c=e.addToCart;return console.log(t),Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"card",children:Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-md-6 col-xs-12",children:Object(j.jsx)("img",{style:{width:"50%"},src:t.image,className:"card-img-top",alt:t.title})}),Object(j.jsx)("div",{className:"col-md-6 col-xs-12",children:Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("h5",{className:"card-title",children:t.title}),Object(j.jsx)("p",{className:"card-text",children:t.category}),Object(j.jsxs)("p",{children:["Price : $",t.price]}),Object(j.jsx)("p",{children:t.description}),Object(j.jsxs)("button",{onClick:function(){return c(t.id)},className:"btn btn-primary",children:[Object(j.jsx)("i",{className:"fa fa-shopping-cart"})," Add Cart"]}),Object(j.jsx)("button",{className:"btn btn-dark disabled",children:"Buy Now"})]})})]})})})}));var M=Object(d.b)((function(e){return{currentItem:e.shop.currentItem}}))((function(e){var t=e.currentItem;return Object(j.jsx)(i.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(u,{}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{exact:!0,path:"/",component:k}),Object(j.jsx)(l.b,{exact:!0,path:"/cart",component:I}),t?Object(j.jsx)(l.b,{exact:!0,path:"/product/:id",component:A}):Object(j.jsx)(l.a,{to:"/"})]})]})})})),_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),a(e),r(e),n(e),s(e)}))},q=c(14),L=c(36),z=c(37),H=c(39),U=c(4),$={products:[],cart:[],currentItem:null,loading:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var c=e.products.find((function(e){return e.id===t.payload.id})),a=e.cart.find((function(e){return e.id===t.payload.id}));return Object(U.a)(Object(U.a)({},e),{},{cart:a?e.cart.map((function(e){return e.id===t.payload.id?Object(U.a)(Object(U.a)({},e),{},{qty:e.qty+1}):e})):[].concat(Object(H.a)(e.cart),[Object(U.a)(Object(U.a)({},c),{},{qty:1})])});case O:return Object(U.a)(Object(U.a)({},e),{},{cart:e.cart.filter((function(e){return e.id!==t.payload.id}))});case h:return Object(U.a)(Object(U.a)({},e),{},{cart:e.cart.map((function(e){return e.id===t.payload.id?Object(U.a)(Object(U.a)({},e),{},{qty:+t.payload.qty}):e}))});case p:return Object(U.a)(Object(U.a)({},e),{},{currentItem:t.payload});case x:return Object(U.a)(Object(U.a)({},e),{},{loading:!0});case m:return Object(U.a)(Object(U.a)({},e),{},{loading:!1,products:t.payload,error:""});case g:return Object(U.a)(Object(U.a)({},e),{},{loading:!1,products:[],error:t.payload});default:return e}},Q=Object(q.combineReducers)({shop:B}),J=c(38),K=c.n(J),V=c(25),W=Object(q.createStore)(Q,Object(V.load)(),Object(z.composeWithDevTools)(Object(q.applyMiddleware)(Object(V.save)(),L.a,K.a)));s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(d.a,{store:W,children:Object(j.jsx)(M,{})})}),document.getElementById("root")),_()}},[[70,1,2]]]);
//# sourceMappingURL=main.99dbe339.chunk.js.map